
let products = [
    {
        id          : 1,
        name        : 'M-SR-0200003',
        old_price   : 3000,
        new_price   : 2500,
        img_path    : 'shop-img/shoe31.jpg'
    },
    {
        id          : 2,
        name        : 'M-LF-0200350',
        old_price   : 8499,
        new_price   : 2500,
        img_path    : 'shop-img/shoe32.jpg'
    },
    {
        id          : 3,
        name        : 'M-LF-0200349 ',
        old_price   : 4599,
        new_price   : 3599,
        img_path    : 'shop-img/shoe33.jpg'
    },
    {
        id          : 4,
        name        : 'M-SR-0225003',
        old_price   : 3000,
        new_price   : 2500,
        img_path    : 'shop-img/shoe34.jpg'
    },
    {
        id          : 5,
        name        : 'M-SR-02055203',
        old_price   : 4000,
        new_price   : 2500,
        img_path    : 'shop-img/shoe1.jpg'
    },
    {
        id          : 6,
        name        : 'M-SR-02005523',
        old_price   : 3999,
        new_price   : 2999,
        img_path    : 'shop-img/shoe2.jpg'
    },
    {
        id          : 7,
        name        : 'M-SR-0204803',
        old_price   : 7500,
        new_price   : 5699,
        img_path    : 'shop-img/shoe3.jpg'
    },
    {
        id          : 8,
        name        : 'M-SR-0200499',
        old_price   : 6889,
        new_price   : 5899,
        img_path    : 'shop-img/shoe4.jpg'
    },
    {
        id          : 9,
        name        : 'M-SR-0200254',
        old_price   : 2999,
        new_price   : 2000,
        img_path    : 'shop-img/shoe5.jpg'
    },
    {
        id          : 10,
        name        : 'M-SR-02002254',
        old_price   : '',
        new_price   : 5000,
        img_path    : 'shop-img/shoe6.jpg'
    },
    {
        id          : 11,
        name        : 'M-SR-020004515',
        old_price   : '',
        new_price   : 1999,
        img_path    : 'shop-img/shoe7.jpg'
    },
    {
        id          : 12,
        name        : 'M-SR-02000151',
        old_price   : '',
        new_price   : 1999,
        img_path    : 'shop-img/shoe8.jpg'
    },
    {
        id          : 13,
        name        : 'M-SR-02002252',
        old_price   : 3000,
        new_price   : 2500,
        img_path    : 'shop-img/shoe1.jpg'
    },
    {
        id          : 14,
        name        : 'M-SR-0200552',
        old_price   : '',
        new_price   : 5999,
        img_path    : 'shop-img/shoe9.jpg'
    },
    {
        id          : 15,
        name        : 'M-SR-02002151',
        old_price   : '',
        new_price   : 5000,
        img_path    : 'shop-img/shoe10.jpg'
    },
    {
        id          : 16,
        name        : 'M-SR-0200003',
        old_price   : '',
        new_price   : 1899,
        img_path    : 'shop-img/shoe11.jpg'
    },
    {
        id          : 17,
        name        : 'M-SR-0200001',
        old_price   : '',
        new_price   : 2399,
        img_path    : 'shop-img/shoe12.jpg'
    },
    {
        id          : 18,
        name        : 'M-SR-0200002',
        old_price   : 7999,
        new_price   : 2899,
        img_path    : 'shop-img/shoe13.jpg'
    },
    {
        id          : 19,
        name        : 'M-SR-02000025',
        old_price   : 8999,
        new_price   : 5000,
        img_path    : 'shop-img/shoe14.jpg'
    },
    {
        id          : 20,
        name        : 'M-SR-020044582',
        old_price   : '',
        new_price   : 8999,
        img_path    : 'shop-img/shoe16.jpg'
    },
    {
        id          : 21,
        name        : 'M-SR-0205528',
        old_price   : 4999,
        new_price   : 1899,
        img_path    : 'shop-img/shoe17.jpg'
    },
    {
        id          : 22,
        name        : 'M-SR-02002257',
        old_price   : 5999,
        new_price   : 4000,
        img_path    : 'shop-img/shoe18.jpg'
    },
    {
        id          : 23,
        name        : 'M-SR-0200274',
        old_price   : '',
        new_price   : 2999,
        img_path    : 'shop-img/shoe19.jpg'
    },
    {
        id          : 24,
        name        : 'M-SR-0200158',
        old_price   : 5999,
        new_price   : 3499,
        img_path    : 'shop-img/shoe20.jpg'
    },
    {
        id          : 25,
        name        : 'M-SR-0200116',
        old_price   : '',
        new_price   : 2599,
        img_path    : 'shop-img/shoe21.jpg'
    },
    {
        id          : 26,
        name        : 'M-SR-0200115',
        old_price   : '',
        new_price   : 2599,
        img_path    : 'shop-img/shoe22.jpg'
    },
    {
        id          : 27,
        name        : 'M-SR-0200554',
        old_price   : '',
        new_price   : 3999,
        img_path    : 'shop-img/shoe23.jpg'
    },
    {
        id          : 28,
        name        : 'M-SR-0200054',
        old_price   : '',
        new_price   : 7999,
        img_path    : 'shop-img/shoe24.jpg'
    },
    {
        id          : 29,
        name        : 'M-SR-02001213',
        old_price   : '',
        new_price   : 4999,
        img_path    : 'shop-img/shoe25.jpg'
    },
    {
        id          : 30,
        name        : 'M-SR-02011403',
        old_price   : '',
        new_price   : 2599,
        img_path    : 'shop-img/shoe26.jpg'
    },
    {
        id          : 31,
        name        : 'M-SR-02000202',
        old_price   : 4999,
        new_price   : 2399,
        img_path    : 'shop-img/shoe27.jpg'
    },
    {
        id          : 32,
        name        : 'M-SR-02004588',
        old_price   : 5999,
        new_price   : 5288,
        img_path    : 'shop-img/shoe28.jpg'
    },
    {
        id          : 33,
        name        : 'M-SR-0200158',
        old_price   : 3000,
        new_price   : 2500,
        img_path    : 'shop-img/shoe30.jpg'
    },
    {
        id          : 33,
        name        : 'M-SR-0200158',
        old_price   : 3000,
        new_price   : 2500,
        img_path    : 'shop-img/shoe30.jpg'
    },
    {
        id          : 33,
        name        : 'M-SR-0200158',
        old_price   : 3000,
        new_price   : 2500,
        img_path    : 'shop-img/shoe30.jpg'
    },
    {
        id          : 33,
        name        : 'M-SR-0200158',
        old_price   : 3000,
        new_price   : 2500,
        img_path    : 'shop-img/shoe30.jpg'
    },
 
]



let cart = localStorage.getItem("cart"); //string
let cart_list = []

if (!cart) {
    document.getElementById("no-cart-msg").style.display = "";
    document.getElementById("checkout-section").style.display = "none";
}else{
    cart_list = JSON.parse(cart); //array - list
    console.log(cart_list);
    document.getElementById("checkout-section").style.display = "";
    document.getElementById("no-cart-msg").style.display = "none";

    for (let i = 0; i < products.length; i++) {
        const product = products[i];
        

        if (cart_list.includes(product.id)) {


            html_elem = `

            <div class="row" id="cart-product-${product.id}">
            
                <div class="col-sm-2">
                    <img src="${product.img_path}" class="cart-img w-100" alt="">
                </div>

                <div class="col-sm-4 d-flex align-items-center">
                    <div>
                        <h6>${product.name}</h6>
                        <p class="my-0 py-0">Rs ${product.new_price} 
                            <strike>Rs ${product.old_price}</strike>
                        </p>
                    </div>

                </div>

                <div class="col-sm-2 d-flex align-items-center">
                    <div class="d-flex align-items-center">
                        <i class="mx-0 text-secondary fa-solid fa-minus"></i>
                        <h5 class="my-0 mx-3">1</h5>
                        <i class="mx-0 text-secondary fa-solid fa-plus"></i>
                    </div>

                </div>

                <div class="col-sm-2 d-flex align-items-center">
                    
                    <div>
                        <h5 class="mb-0">Rs ${product.new_price}</h5>
                    </div>

                </div>

                <div class="col-sm-2 d-flex align-items-center justify-content-end">
                    <i onclick="removeItem(${product.id})" class="fa-solid mx-3 fa-xmark fs-4" style='color: rgb(165, 108, 42);'></i>
                </div>
            </div>
                
            `
            document.getElementById('Order-summary').innerHTML += html_elem;

            
        }



    }


}



function removeItem(id) {
    let index_to_remove = cart_list.indexOf(id); 
    cart_list.splice(index_to_remove, 1);
    document.getElementById(`cart-product-${id}`).remove();


    if (cart_list.length == 0){
        localStorage.removeItem("cart");
        document.getElementById("no-cart-msg").style.display = "";
        document.getElementById("checkout-section").style.display = "none";
        document.getElementById('item-count').style.display = 'none';
        
    }else{
        localStorage.setItem("cart", JSON.stringify(cart_list));
        document.getElementById('number_count').innerHTML = cart_list.length;
        document.getElementById('item-count').style.display = '';

    }
    
    console.log(cart_list);
}   




 